<!DOCTYPE html>

<html>
    <head>
        <meta charset = "utf-8">
        <title> Hristijan Slavkoski Website</title>
            <link rel = "stylesheet" type = "text/css" href = "styles1.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.css">
    </head>

    <body onload="blogPost()">

        <div id="header" class="header">
            <h1>Welcome to the official website of Hristijan Slavkoski</h1>
            <nav class="menu" style = "width: 50%; text-align: right">
                <ul class="list">
                    <li>
                        <a href="./home.html"><button id="b1"><i class="fa fa-home" aria-hidden="true"></i> Home</button></a>
                    </li>
                    <li>
                        <a href="./gallery.html"><button id="b1"><i class="fa fa-picture-o" aria-hidden="true"></i> Gallery</button></a>
                    </li>
                    <li>
                        <div class="dropdown">
                            <button id="b1"><i class='fas fa-star'></i> Favourites</button>
                            <ul class="dropdown-content">
                                <li>
                                    <a href="./music.html"><button><i class="fa fa-music" aria-hidden="true"></i> Music</button></a>
                                </li>
                                <li>
                                    <a href="./food.html"><button><i class='fas fa-pizza-slice'></i> Food</button></a>
                                </li>
                                <li>
                                    <a href="./movie.html"><button><i class='fas fa-video'></i> Movies</button></a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="./blog.html"><button id="b1"><i class="fas fa-blog" aria-hidden="true"></i> Blog</button></a>
                    </li>
                    <li>
                        <a href="./survey.html"><button id="b1"><i class="fas fa-pencil-alt" aria-hidden="true"></i> Survey</button></a>
                    </li>
                    <li>
                        <a href="./contact.html"><button id="b1"><i class="fa fa-fw fa-envelope"></i> Contact</button></a>
                    </li>
                </ul>
            </nav>
        </div>

        <div id="elBlog">
            <h2 style="text-align: center;"  >
                <p class="boxblogp">
                    Share your adventures with us!
                    <br>
                </p></h3>

                <form id="blog-form" onsubmit="blogPost()">
                    <textarea id="blogTxt" class="writing" placeholder="Write short story."></textarea>
                    <input id="blogAlias" type="text" class="blog-f" name="alias" placeholder="Author">
                    <input id="blogSbj" type="text" class="blog-f" name="subject" placeholder="Subject">
                    <input id="blogDate" type="date" class="blog-f" name="date-w" value="xxxx-xx-xx" min="2020-01-01"
                        max="2022-12-31">
                    <button id="submit" type="submit">Submit</button>
                </form>
                <div id="submittedDiv">

                </div>
        </div>


        <script>
            function blogPost() {
                event.preventDefault()
                let blogTxt = document.getElementById("blogTxt").value
                let blogAlias = document.getElementById("blogAlias").value
                let blogSbj = document.getElementById("blogSbj").value
                let submittedDiv = document.getElementById("submittedDiv")
                let posts = JSON.parse(localStorage.getItem('posts')) || [];
                let htmlString = "<h2 id='subject'> Title:" + blogSbj + "</h2>" + '<p id="content" style="word-wrap: break-word;">' + blogTxt + "</p>" + "<p id='ime'> Written by: " + blogAlias + "</p>"
                posts.push(htmlString)
                localStorage.setItem('posts', JSON.stringify(posts))
                let newString = "";
                posts.forEach(element => {
                    newString += element
                    newString += "<hr>"
                });
                submittedDiv.innerHTML = newString
                console.log("posts = " + posts)
            }
            </script>
    </body>
</html>
